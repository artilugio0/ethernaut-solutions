pragma solidity 0.8.19;

import "forge-std/Test.sol";
import "src/Preservation.sol";
import "src/Exploit.sol";

contract ExploitTest is Test {
    function test_exploit() public {
        LibraryContract l1 = new LibraryContract();
        LibraryContract l2 = new LibraryContract();
        Preservation p = new Preservation(
            address(l1), address(l2));

        Exploit e = new Exploit();
        e.exploit(address(p), address(e));

        assertEq(p.owner(), address(e));
    }
}
